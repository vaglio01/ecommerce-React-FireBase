(this.webpackJsonptpobli=this.webpackJsonptpobli||[]).push([[0],{66:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(3),r=a.n(c),o=a(28),s=a.n(o),i=(a(66),a(39)),l=a(80),j=a(21),d=r.a.createContext({}),b=a(31),u={colorLink:{color:"#fff",fontSize:"20px",textAlign:"center"}},m=function(e){return Object(n.jsx)(d.Consumer,{children:function(e){return Object(n.jsxs)(i.a,{bg:"dark",variant:"dark",style:{justifyContent:"space-between"},children:[e.login&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(i.a.Brand,{style:u.colorLink,children:["E-commerce ",Object(n.jsx)("br",{})," Bienvenido: ",e.email]}),Object(n.jsxs)(l.a,{children:[Object(n.jsxs)(l.a.Link,{as:j.b,to:"/",style:u.colorLink,children:[" ",Object(n.jsx)(b.a,{})," ",Object(n.jsx)("br",{})," Home "]}),Object(n.jsxs)(l.a.Link,{onClick:e.logoutUser,style:u.colorLink,children:[Object(n.jsx)(b.c,{})," ",Object(n.jsx)("br",{})," LogOut "]})]})]}),!e.login&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(i.a.Brand,{style:u.colorLink,children:"E-commerce "}),Object(n.jsxs)(l.a,{children:[Object(n.jsxs)(l.a.Link,{as:j.b,to:"/Registro",style:u.colorLink,children:[Object(n.jsx)(b.d,{})," ",Object(n.jsx)("br",{})," Registro "]}),Object(n.jsxs)(l.a.Link,{as:j.b,to:"/Login",style:u.colorLink,children:[Object(n.jsx)(b.b,{}),"  ",Object(n.jsx)("br",{}),"  Login "]})]})]})]})}})},x=a(55),O=function(e){return Object(n.jsxs)(i.a,{sticky:"bottom",bg:"dark",variant:"dark",style:{justifyContent:"space-between"},children:[Object(n.jsx)(i.a.Brand,{size:"sm",children:Object(n.jsx)(x.a,{})}),Object(n.jsx)(i.a.Brand,{children:"Hernan Vaglio Trabajo Final "})]})},h=a(15),p=a(81),g=a(79),f={scard:{width:"25%",minWidth:"150px",margin:"5px",textAlign:"center"},buttons:{margin:"auto"}},y=function(e){var t=Object(c.useState)(""),a=Object(h.a)(t,2),r=a[0],o=a[1];return Object(n.jsxs)(p.a,{border:"light",style:f.scard,children:[Object(n.jsx)(p.a.Img,{className:".card ",variant:"top",src:e.data.imagen}),Object(n.jsxs)(p.a.Body,{children:[Object(n.jsx)(p.a.Title,{children:e.data.name}),Object(n.jsx)(p.a.Text,{style:{fontSize:"20px"},children:e.datos&&Object(n.jsxs)(p.a.Text,{style:{fontSize:"20px"},children:[" ",e.data.description," "]})}),Object(n.jsxs)("h3",{children:["$",e.data.price," "]})]}),Object(n.jsxs)(p.a.Footer,{children:[Object(n.jsx)(g.a,{onClick:function(){return o("Gracias por su compra")},variant:"primary",block:!0,children:"Comprar"}),e.buttons&&Object(n.jsx)(g.a,{variant:"secondary",block:!0,children:Object(n.jsx)(j.b,{to:"/producto/"+e.id,style:{textDecoration:"none",color:"#FFF"},children:"Ver Detalle"})}),Object(n.jsx)("small",{style:{color:"red",fontSize:"15px",textAlign:"center",margin:"auto"},children:r})]})]})},v=a(56),S={spinner:{marginRight:"5px"},buttons:{margin:"auto"}},k=function(e){return Object(n.jsxs)(g.a,{variant:"dark",syle:S.buttons,type:e.type?e.type:"submit",children:[e.loading&&Object(n.jsx)(v.a,{animation:"border",variant:"whaith",size:"sm",style:S.spinner}),e.text||"Ingresar"]})},w=a(26);w.a.initializeApp({apiKey:"AIzaSyD6GfYOAy_8U3DrV8g16ZKtAUWqQ3z7mPI",authDomain:"primproyectreact.firebaseapp.com",databaseURL:"https://primproyectreact.firebaseio.com",projectId:"primproyectreact",storageBucket:"primproyectreact.appspot.com",messagingSenderId:"967339088704",appId:"1:967339088704:web:3e7bd5dc9c724bf649f8a5",measurementId:"G-9HB3KQGXW2"});var C=w.a.firestore();w.a.auth=w.a.auth(),w.a.db=C;var I=w.a,L={carStyke:{display:"flex",flexWrap:"wrap",justifyContent:"center"}},A=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),a=t[0],r=t[1],o=Object(c.useState)(!0),s=Object(h.a)(o,2),i=s[0],l=s[1];return Object(c.useEffect)((function(){I.db.collection("productos").get().then((function(e){r(e.docs),l(!1)}))}),[]),i?Object(n.jsx)(k,{text:"Cargando",loading:i}):Object(n.jsx)("div",{className:"car-grid",style:L.carStyke,children:a.map((function(e){return Object(n.jsx)(y,{id:e.id,data:e.data(),buttons:!0},e.id)}))})},B=a(27),F=a(29),P=a(13),E=a(12),T={carStyke:{width:"40%",margin:" 20px auto"},formStyle:{colro:"#fff",textAlign:"center"}},z=function(){var e=Object(c.useState)({nombre:"",apellido:"",email:"",password:""}),t=Object(h.a)(e,2),a=t[0],r=t[1],o=Object(c.useState)(!1),s=Object(h.a)(o,2),i=s[0],l=s[1],j=Object(E.e)(),d=function(e){var t=e.target,n=t.value,c=t.name;r(Object(F.a)(Object(F.a)({},a),{},Object(B.a)({},c,n)))};return Object(n.jsxs)(p.a,{className:"bg-dark text-white",border:"white",style:T.carStyke,children:[Object(n.jsx)(p.a.Title,{style:{margin:"20px auto"},children:"Registrarse"}),Object(n.jsxs)(P.a,{onSubmit:function(e){l(!0),console.log("HandleSubmit"),console.log(e,a),I.auth.createUserWithEmailAndPassword(a.email,a.password).then((function(e){console.log("data",e),I.db.collection("usuarios").add({nombre:a.nombre,apellido:a.apellido,email:a.email,userId:e.user.uid}).then((function(e){console.log("data databese",e),l(!1),j.push("/login")})).catch((function(e){console.log("error databese",e),l(!1)}))})).catch((function(e){console.log("error",e),l(!1)})),e.preventDefault()},children:[Object(n.jsxs)(P.a.Group,{controlId:"formBasicEmail",style:T.formStyle,children:[Object(n.jsx)(P.a.Label,{children:"Nombre"}),Object(n.jsx)(P.a.Control,{type:"Texto",name:"nombre",value:a.nombre,onChange:d,placeholder:"Ingrese su Nombre"}),Object(n.jsx)(P.a.Label,{children:"Apellido"}),Object(n.jsx)(P.a.Control,{type:"Texto",name:"apellido",value:a.apellido,onChange:d,placeholder:"Ingrese su Apellido"}),Object(n.jsx)(P.a.Label,{children:"Email address"}),Object(n.jsx)(P.a.Control,{type:"email",name:"email",value:a.email,onChange:d,placeholder:"Ingrese su email"}),Object(n.jsx)(P.a.Label,{children:"Password"}),Object(n.jsx)(P.a.Control,{type:"password",name:"password",value:a.password,onChange:d,placeholder:"Password"})]}),Object(n.jsx)(k,{text:"Registrandose",loading:i})]})]})},D={carStyke:{width:"40%",margin:" 20px auto"},formStyle:{colro:"#fff",textAlign:"center"}},R=function(){var e=Object(c.useContext)(d),t=Object(c.useState)({nombre:"",apellido:"",email:"",password:""}),a=Object(h.a)(t,2),r=a[0],o=a[1],s=Object(c.useState)(!1),i=Object(h.a)(s,2),l=i[0],j=i[1],b=Object(E.e)(),u=function(e){var t=e.target,a=t.value,n=t.name;o(Object(F.a)(Object(F.a)({},r),{},Object(B.a)({},n,a)))};return Object(n.jsxs)(p.a,{className:"bg-dark text-white",border:"white",style:D.carStyke,children:[Object(n.jsx)(p.a.Title,{style:{margin:"20px auto"},children:"Ingresar"}),Object(n.jsxs)(P.a,{onSubmit:function(t){j(!0),I.auth.signInWithEmailAndPassword(r.email,r.password).then((function(t){j(!1),e.loginUser(t.user.email),b.push("/")})).catch((function(e){j(!1)})),t.preventDefault()},children:[Object(n.jsxs)(P.a.Group,{style:D.formStyle,children:[Object(n.jsx)(P.a.Label,{children:"Email address"}),Object(n.jsx)(P.a.Control,{type:"email",name:"email",value:r.email,onChange:u,placeholder:"Ingrese su email"}),Object(n.jsx)(P.a.Label,{children:"Password"}),Object(n.jsx)(P.a.Control,{type:"password",name:"password",value:r.password,onChange:u,placeholder:"Password"})]}),Object(n.jsx)(k,{text:"Registrandose",loading:l})]})]})},U=function(e){var t=Object(c.useState)({}),a=Object(h.a)(t,2),r=a[0],o=a[1],s=Object(c.useState)(!0),i=Object(h.a)(s,2),l=i[0],j=i[1];return Object(c.useEffect)((function(){I.db.doc("productos/"+e.match.params.id).get().then((function(e){o(e.data()),j(!1)}))}),[e.match.params.id]),l?Object(n.jsx)(k,{text:"Cargando",loading:l}):Object(n.jsx)("div",{children:Object(n.jsx)(y,{data:r,datos:!0})})},G=a(57),N=a(58),W=a(60),H=a(59),K=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(){var e;Object(G.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={login:localStorage.getItem("login")||!1,email:localStorage.getItem("email")||""},e.login=function(t){e.setState({login:!0,email:t}),localStorage.setItem("login",!0),localStorage.setItem("email",t)},e.logout=function(){e.setState({login:!1,email:""}),localStorage.removeItem("login"),localStorage.removeItem("email")},e}return Object(N.a)(a,[{key:"render",value:function(){return Object(n.jsx)(d.Provider,{value:{login:this.state.login,email:this.state.email,loginUser:this.login,logoutUser:this.logout},children:this.props.children})}}]),a}(c.Component);var V=function(){return Object(n.jsx)(K,{children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(m,{}),console.log(I.database()),Object(n.jsx)(E.a,{path:"/",component:A,exact:!0}),Object(n.jsx)(E.a,{path:"/Registro",component:z,exact:!0}),Object(n.jsx)(E.a,{path:"/Login",component:R,exact:!0}),Object(n.jsx)(E.a,{path:"/Producto/:id",component:U,exact:!0}),Object(n.jsx)(O,{})]})})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,82)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};a(76);s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(V,{})}),document.getElementById("root")),J()}},[[77,1,2]]]);
//# sourceMappingURL=main.e753aff3.chunk.js.map